// Test generated by RoostGPT for test integrationtest-0408 using AI Type Open Source AI and AI Model meta-llama/Llama-2-13b-chat

# config
target: "{{ $processEnvironment.SERVER_URL }}"
phases:
  - duration: 300s
    arrivalRate: 25requests/s

# scenarios
scenarios:
  - name: Get all products
    flow:
      - get: /api/products
        headers:
          Authorization: Bearer <token>
        assert:
          statusCode: 200
          body: []
        comment: Expected list of products to be empty

  - name: Add a new product
    flow:
      - post: /api/products
        headers:
          Authorization: Bearer <token>
        payload:
          name: Test Product
          description: This is a test product
        assert:
          statusCode: 201
          body:
            id: >-
              {
                "id": 1,
                "name": "Test Product",
                "description": "This is a test product"
              }
        comment: Expected new product to be created successfully

  - name: Find product by ID
    flow:
      - get: /api/products/1
        headers:
          Authorization: Bearer <token>
        assert:
          statusCode: 200
          body:
            id: 1
            name: Test Product
            description: This is a test product
        comment: Expected product to be found by ID

  - name: Update a product
    flow:
      - put: /api/products/1
        headers:
          Authorization: Bearer <token>
        payload:
          name: Updated Test Product
          description: This is an updated test product
        assert:
          statusCode: 200
          body:
            id: 1
            name: Updated Test Product
            description: This is an updated test product
        comment: Expected product to be updated successfully

  - name: Delete a product
    flow:
      - delete: /api/products/1
        headers:
          Authorization: Bearer <token>
        assert:
          statusCode: 204
        comment: Expected product to be deleted successfully
