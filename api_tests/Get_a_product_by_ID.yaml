// Test generated by RoostGPT for test integrationtest-0408 using AI Type Open Source AI and AI Model meta-llama/Llama-2-13b-chat

# Config
target: "${{ SERVER_URL }}";
phases:
  - duration: 60;
    arrivalRate: 20;
variables:
  productId: ["2", "3"];
headers:
  Content-Type: application/json;

# Scenarios
scenario: Delete product successfully
  # Set up the request
  payload:
    {
      "id": 2
    };
  headers:
    {
      "Content-Type": "application/json"
    };
  
  # Execute the request
  delete:
    url: "/products/${productId}";
  
  # Validate the response
  assert:
    - statusCode: 200;
    - responseBody contains: "Product deleted";
    
scenario: API request with product not found
  # Set up the request
  payload:
    {
      "id": 99999999999999999
    };
  headers:
    {
      "Content-Type": "application/json"
    };
  
  # Execute the request
  delete:
    url: "/products/${productId}";
  
  # Validate the response
  assert:
    - statusCode: 404;
    - responseBody contains: "Product not found";
    
scenario: API request with invalid product id
  # Set up the request
  payload:
    {
      "id": "abcdefg"
    };
  headers:
    {
      "Content-Type": "application/json"
    };
  
  # Execute the request
  delete:
    url: "/products/${productId}";
  
  # Validate the response
  assert:
    - statusCode: 400;
    - responseBody contains: "Invalid product id";
    
scenario: API request with edge case of large product id
  # Set up the request
  payload:
    {
      "id": 99999999999999999
    };
  headers:
    {
      "Content-Type": "application/json"
    };
  
  # Execute the request
  delete:
    url: "/products/${productId}";
  
  # Validate the response
  assert:
    - statusCode: 404;
    - responseBody contains: "Product not found";
